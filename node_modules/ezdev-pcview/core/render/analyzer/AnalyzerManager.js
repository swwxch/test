/**
 * Created by zhaofs on 2017/5/6.
 * --------------------
 * - 分析器管理 -
 * --------------------
 * 实现对分析器的统一管理
 */
const analyzers = [];
const analyzerNames = [];
const analyzersMap = new Map();
export default {
    /**
     * 添加分析器
     */
    add: function (analyzer) {
        if (analyzer.analyze && typeof(analyzer.analyze) === 'function') {
            analyzers.push(analyzer);
            analyzerNames.push(analyzer.name);
            analyzersMap.set(analyzer.name,analyzer);
        } else {
            throw new Error("你添加的分析器中没有 analyze 方法，无法进行添加");
        }
    },

    /**
     * 获取所有分析器
     * @returns {Array}
     */
    getAll: function () {
        return analyzers;
    },

    /**
     * 是否存在
     * @param name
     */
    has: function (name) {
        return analyzerNames.indexOf(name) >= 0
    },
    /**
     * 根据name获取分析器对象
     */
    get:function(name){
        return analyzersMap.get(name);
    }
};